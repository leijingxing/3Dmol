下面这份文档可以理解为：
“**基于 3Dmol.js 的中学化学 3D 分子可视化网页项目设计说明书**”
你可以直接当成项目方案 / 需求文档 / 开发说明使用。

---

## 一、项目概述

### 1.1 项目目标

构建一个基于 3Dmol.js 的网页应用，用于中学化学教学中展示常见分子的三维结构，实现：

* 直观、可交互的 3D 分子模型展示（旋转、缩放、平移）
* 按类别组织的分子示例库（常见气体、酸碱、有机物等）
* 对每个分子的结构说明、性质关联与教学提示
* 简洁、现代、美观的界面设计，适合投屏课堂使用

### 1.2 目标用户

* 中学化学教师：课堂演示、课前备课
* 中学生：自学和课后复习
* 教研人员：教学课件、公开课展示

### 1.3 技术栈

* 前端：HTML + CSS + 原生 JavaScript
* 3D 分子渲染：3Dmol.js
* 部署：任意静态网页服务器（本地、学校服务器、GitHub Pages 等）

---

## 二、功能需求设计

### 2.1 总体功能

1. 分子库浏览

   * 按类别展示分子列表
   * 支持名称 / 化学式搜索
   * 支持类别筛选（如“常见气体”“极性分子”“有机物入门”等）

2. 3D 分子展示

   * 在主视图区展示选中的分子结构
   * 支持鼠标拖动旋转、滚轮缩放、右键平移（3Dmol.js 自带）
   * 支持“重置视角”按钮
   * 支持“显示样式切换”（球棍、空间填充等）

3. 分子信息说明

   * 展示分子名称（中/英文）
   * 化学式
   * 分子类别（如“共价化合物”“有机物”“氢化物”等）
   * 常见物态（气体、液体、固体）
   * 结构特点说明（形状、键角、是否极性、特征官能团）
   * 教学提示（课堂提问、对比建议、易错点）

4. 交互引导

   * 在视图下方给出操作提示（如何旋转、缩放）
   * 初次加载无分子时给出“请先选择一个分子”的提示

5. 外观要求

   * 整体深色背景，居中卡片式布局
   * 三栏布局：左侧分子列表，中间 3D 视图，右侧说明栏
   * 按钮、标签、卡片具有适度圆角、阴影，风格现代简洁
   * 界面适应 13–15 寸投影或电脑屏幕

### 2.2 非功能需求

* 加载速度：首屏加载不引入过多资源，首屏加载时间宜短
* 稳定性：无后台依赖，前端静态资源即可运行
* 易扩展：增加新分子仅需添加数据项，无需改核心逻辑
* 可维护：数据与逻辑分离（分子数据单独文件）

---

## 三、页面与界面信息架构

### 3.1 页面结构（单页面应用）

整个项目是一个单页面应用，主要区域划分为：

1. 顶部区域（Header）

   * 左侧：项目 Logo（文本即可，如 “Chem”）、项目标题、副标题
     示例标题：“3D 分子结构教学平台”
   * 右侧：简短标签，如“中学化学”“3D 可视化”

2. 主体区域（Main，三栏布局）

   * 左：侧边栏（分子列表区）
   * 中：3D 分子视图区
   * 右：分子信息 / 教学说明区

### 3.2 左侧：分子列表区（侧边栏）

包含三个部分：

1. 搜索框

   * 文本输入框
   * 支持以中文名、英文名、化学式搜索
   * 输入变化时，实时过滤下方分子列表

2. 类别筛选

   * 一组“选项标签”（Chip）形式的按钮，如：

     * 全部
     * 常见气体
     * 极性分子
     * 非极性共价分子
     * 酸与碱
     * 有机物入门
   * 支持单选（点击切换当前筛选类别）

3. 分子列表

   * 列表项显示：

     * 名称（中文为主，可附英文缩写）
     * 化学式
     * 简短标签（如“极性”“气体”“四面体结构”）
   * 当前选中分子高亮显示

### 3.3 中间：3D 视图区

1. 工具栏

   * 当前分子名称
   * 化学式小字展示
   * “重置视图”按钮：调用 3Dmol.js 的视图重置功能
   * “切换显示样式”按钮：在不同渲染样式之间切换

     * 例如：球棍（stick + sphere） 与 空间填充（spacefill）

2. 3D 视图容器

   * 一个固定高度的矩形区域
   * 作为 3Dmol.js viewer 的挂载容器
   * 背景为深色渐变，增强视觉效果

3. 操作提示

   * 简短说明鼠标操作方式：

     * 左键拖动：旋转
     * 滚轮：缩放
     * 右键拖动：平移

### 3.4 右侧：信息说明区

主要板块：

1. 基础信息

   * 名称
   * 化学式
   * 类别（共价 / 离子 / 有机物 / 气体等）
   * 常见状态（固 / 液 / 气）

2. 结构特点说明

   * 简要文字描述，例如：

     * “分子形状为弯曲形，键角约为 104.5°，整体为极性分子。”

3. 教学提示

   * 列表形式的几点建议，例如：

     * 可以与 CO₂ 对比说明 “同含 O，但形状和极性不同”
     * 可引导学生思考氢键、沸点高的原因等

4. 当前渲染样式说明

   * 如：“当前样式：球棍模型（突出键与原子连接关系）”
   * 切换样式时同步更新描述

---

## 四、分子数据与配置设计

### 4.1 分子数据结构（逻辑设计）

建议将所有分子信息集中在一个独立的数据文件中，例如逻辑上包含以下字段：

* id：唯一标识
* nameZh：中文名称
* nameEn：英文名称或常用名
* formula：化学式（字符串）
* category：类别（如 “gas”、“organic”、“acid”、“base”、“polar”、“nonpolar”等）
* phase：常温下状态（solid / liquid / gas）
* tags：若干标签（用于搜索、展示 meta）
* structureDescription：结构特点说明（字符串）
* teachingTips：教学提示数组（每一项为一句话）
* dataFormat：结构数据格式（例如 “xyz” 或 “pdb”）
* data：具体的结构数据（XYZ 或 PDB 文本）
* defaultStyle：默认样式类型（如 “ball_and_stick”、“spacefill” 等）

同一个页面可以内置几十个常见分子的结构数据，便于教学。

### 4.2 示例分子库规划（建议）

可按教学章节设计几个类别：

1. 常见单质与双原子分子

   * H₂、O₂、N₂、Cl₂

2. 常见氧化物与简单分子

   * H₂O、CO₂、SO₂、NH₃、CH₄

3. 酸和碱

   * HCl、H₂SO₄（简化结构）、HNO₃、NaOH（单个分子/离子示意）

4. 有机物入门

   * CH₄、C₂H₆、C₂H₄、C₂H₂、C₂H₅OH、CH₃COOH

5. 特征结构演示（可选）

   * 苯环 C₆H₆、葡萄糖、氯化钠晶体简化模型（可用结构示意）

每个分子配套简短教学提示，例如：

* 建议对比对象
* 可引导的思考问题
* 常见误区（例如“极性与是否含 O 原子并不是一回事”）

---

## 五、3Dmol.js 集成说明（逻辑层面）

以下不给具体代码，只说明整体流程与关键步骤，便于你或前端同事实现。

### 5.1 基本使用流程

1. 在页面中预留一个用于渲染 3D 模型的容器元素（例如一个中间区域的矩形框）。
2. 在页面中通过 `<script>` 标签引入 3Dmol.js 的库文件（可使用官方 CDN）。
3. 在脚本中：

   * 通过 3Dmol.js 提供的创建函数，将 viewer 绑定到上述容器上；
   * 设置背景颜色（建议与页面深色风格协调）；
   * 根据数据中的结构格式（XYZ/PDB 等）加载分子数据；
   * 设置默认渲染样式（球棍、空间填充等）；
   * 调用自动缩放函数，将分子适配到视图中。

### 5.2 分子切换逻辑

当用户在分子列表中点击某一分子时：

1. 清空当前 viewer 中的模型。
2. 根据该分子的 dataFormat 和 data 字段，将对应的结构文本加载到 viewer 中。
3. 根据该分子的 defaultStyle 设置渲染方式，例如：

   * 球棍：强调键与原子的连接关系
   * 空间填充：强调分子占据的空间、近似大小
4. 自动调整视角，使分子完整显示。
5. 同步更新：

   * 中间区域标题（当前名称、化学式）
   * 右侧信息栏（结构特点、教学提示等）
   * 当前渲染样式说明文本

### 5.3 显示样式切换逻辑

“切换样式”按钮大致逻辑：

1. 在应用状态中记录当前样式类型（例如 styleMode = "ball_and_stick" 或 "spacefill"）。
2. 点击按钮时：

   * 在 viewer 中重新设置当前模型的渲染样式；
   * 更新右侧说明中的“当前渲染样式”文字；
   * 适当修改按钮文案（如“切换为空间填充”等）。

### 5.4 视图控制逻辑

“重置视图”按钮的作用：

1. 调用 viewer 的缩放到模型函数（zoomTo 类似的接口）；
2. 将模型恢复到初次加载时的合适观察角度；
3. 用于课堂演示时快速回到全景。

---

## 六、搜索与筛选设计

### 6.1 搜索规则

* 支持在以下字段内模糊匹配：

  * 中文名称
  * 英文名称
  * 化学式
  * 标签（tags）
* 输入为空时显示当前类别下所有分子
* 搜索结果与类别筛选共同作用（先按类别筛选，再在结果中搜索）

### 6.2 类别筛选规则

* 默认类别为“全部”
* 选择某个类别后，列表只显示该类别分子
* 再叠加搜索关键字过滤

---

## 七、教学使用设计建议

### 7.1 一节课中的使用流程示例

以“分子形状和极性”一课为例：

1. 导入环节

   * 通过投影打开网页，展示水 (H₂O) 的 3D 结构。
   * 调整旋转演示：让学生感受这是一个“弯曲”的三维结构。

2. 对比环节

   * 从列表选择 CO₂，切换到 CO₂ 的 3D 模型。
   * 引导学生观察：

     * 原子种类相似，都含 C、O；
     * 但空间结构不同：线形 vs 弯曲。
   * 在右侧信息栏中补充结构与极性关系说明。

3. 探究活动

   * 学生小组预先分配不同分子（CH₄、NH₃、SO₂ 等）。
   * 通过网页观察 3D 结构，整理“形状 + 是否极性”的表格。
   * 小组之间互相汇报，教师总结规律。

4. 强化与拓展

   * 利用“切换显示样式”按钮让学生理解：

     * 球棍模型 ≈ 强调构型和键
     * 空间填充模型 ≈ 强调空间占据和分子间作用

5. 课后作业建议

   * 让学生回家打开网页，自选 3 个分子，写出：

     * 名称、化学式、结构形状、是否极性
   * 下节课分享与讲评。

### 7.2 教师教案配套

* 每个分子配一两条教学提示：

  * 适合引导什么问题？
  * 适合与哪个分子对比？
  * 哪些是学生容易误解的点？

---

## 八、扩展与维护

### 8.1 如何增加新的分子

1. 在分子数据文件中新增一条数据，包括：

   * 名称、化学式、类别、状态等基本信息
   * XYZ 或 PDB 结构数据
   * 结构说明与教学提示
2. 保存后刷新页面，新分子自动出现在列表中。

### 8.2 可考虑的扩展方向

* 支持多语言切换（中/英界面）
* 支持通过文本框导入自定义分子结构（教师自备 XYZ 文本）
* 增加“反应前后”视图（展示简单反应，左边反应物、右边生成物）
* 结合题目练习：在右侧增加判断题 / 多选题，与当前分子相关
* 与后端或数据库连接，将分子数据存储在服务器端，支持在线更新

### 8.3 界面适配与兼容

* 优先适配桌面浏览器（Chrome、Edge 等），用于教室投影
* 移动端可采用单列或两列布局，只保留核心功能（3D视图 + 简要说明）

